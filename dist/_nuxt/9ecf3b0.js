(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{759:function(t,e,n){"use strict";n.r(e);var r=n(4),o=(n(14),n(32),n(0)),c=(n(115),n(26)),l=n(39),f=n(59),d=n(66),h=n(33),m=n(12),v=(n(37),n(52));function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},x=function(t){Object(f.a)(n,t);var e=y(n);function n(){var t;return Object(c.a)(this,n),(t=e.apply(this,arguments)).navigator={enabled:!1},t.selectedFilterValue=31,t.sortOptions=[{name:"day",value:"1"},{name:"week",value:"7"},{name:"month",value:"31"}],t}return Object(l.a)(n,[{key:"handleFilterValue",value:function(t){this.$emit("handleFilter",t),this.selectedFilterValue=t}},{key:"transactions",get:function(){return{chart:{type:"spline"},tooltip:{shared:!0,valueSuffix:" TNBC"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Snow depth (m)"},min:0},series:[{name:"Transactions",data:this.data}]}}}]),n}(v.Vue);O([Object(v.Prop)({required:!0})],x.prototype,"data",void 0);var j=x=O([v.Component],x),w=n(25),R=Object(w.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative h-full card"},[n("div",{staticClass:"flex flex-nowrap"},[n("span",{staticClass:"mr-3 font-semibold"},[t._v("Filter by: ")]),t._v(" "),t._l(t.sortOptions,(function(option,e){return n("a",{key:e,staticClass:"cursor-pointer hover:underline pr-2",class:option.value===t.selectedFilterValue?"underline":"",on:{click:function(e){return t.handleFilterValue(option.value)}}},[t._v("\n      "+t._s(option.name)+"\n    ")])}))],2),t._v(" "),t.data.length?n("highcharts",{attrs:{"constructor-type":"stockChart",options:t.transactions,navigator:t.navigator}}):n("div",{staticClass:"text-center absolute top-1/2 transform -translate-y-1/2 -right-1/2 -translate-x-1/2 w-full"},[n("p",{staticClass:"text-lg font-semibold text-gray-500"},[t._v("There is no data available from the last "+t._s(t.selectedFilterValue)+" days.")])])],1)}),[],!1,null,null,null).exports,_=o.default.extend({components:{TestGraph:R},data:function(){return{tableOptions:{},government:{},transactions:[],graphData:[],perPage:5,pageOffset:0,transactionType:"transaction_type=GOVERNMENT",columns:[{name:"date",attribute:"date"},{name:"amount",attribute:"amount"},{name:"github issue id",attribute:"githubIssueId"},{name:"recipient public key",attribute:"recipientPublicKey"}],startArray:[{date:"2021-10-07",amount:21},{date:"2021-10-07",amount:477},{date:"2021-10-06",amount:3}]}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$http,e.next=3,n.post("https://tnbanalytics.pythonanywhere.com/government-chart",{days:"31"}).then((function(t){return t.json()}));case 3:return r=e.sent,o=r.data,e.abrupt("return",{graphData:o});case 6:case"end":return e.stop()}}),e)})))()},methods:{changeDateRange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://tnbanalytics.pythonanywhere.com/government-chart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days:t})}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 2:r=n.sent,e.graphData=r.data;case 4:case"end":return n.stop()}}),n)})))()}},computed:{getFormatedData:function(){return this.startArray}}}),C=Object(w.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-12 mb-20 mx-6 md:mx-12"},[n("div",{staticClass:"w-full"},[n("TestGraph",{attrs:{data:t.getFormatedData},on:{handleFilter:t.changeDateRange}})],1)])}),[],!1,null,null,null);e.default=C.exports}}]);